# CI/CD в Kubernetes

## Что такое CI/CD?
**CI/CD** — это способ сделать так, чтобы твой код (например, сайт или приложение) быстро и без ошибок попадал от твоего компьютера на сервер, где его увидят пользователи. Это сокращение от двух слов:
- **CI (Continuous Integration)** — "постоянная сборка". Это когда ты часто проверяешь, работает ли твой код.
- **CD (Continuous Deployment)** — "постоянное развёртывание". Это когда твой код автоматически отправляется на сервер.

В Kubernetes CI/CD помогает обновлять приложения в контейнерах без головной боли. Давай разберём, как это работает.

---

## Как это связано с Kubernetes?
Kubernetes — это система, которая управляет контейнерами (как маленькими коробками с твоим приложением). CI/CD в Kubernetes означает, что ты можешь:
1. Написать код.
2. Проверить, что он работает.
3. Упаковать его в контейнер.
4. Отправить в Kubernetes, чтобы он запустил этот контейнер для пользователей.

Всё это происходит быстро и почти без твоего участия.

---

## Как работает CI/CD в Kubernetes?

Представь, что ты готовишь пиццу и продаёшь её в пиццерии. CI/CD — это твоя кухня и доставка, а Kubernetes — это сама пиццерия. Вот шаги:

### 1. Пишешь код (CI — сборка)
Ты придумал новый рецепт пиццы (код). Это может быть новая страничка для сайта или улучшение игры.

- Ты отправляешь рецепт в "кухню" (систему CI, например, GitHub Actions или Jenkins).
- Кухня проверяет: "Всё ли в порядке? Нет ли ошибок? Работает ли рецепт?" (это тесты).
- Если всё хорошо, кухня готовит пиццу и упаковывает её в коробку (собирает контейнер с твоим кодом).

### 2. Упаковка в контейнер
Контейнер — это как коробка для пиццы. В неё кладут твой код и всё, что нужно для работы (например, библиотеки). Эта коробка называется **Docker-образ**.

- CI делает образ, например: `my-pizza-app:version1`.
- Образ отправляется в "хранилище" (реестр, например, Docker Hub), чтобы его можно было взять позже.

### 3. Отправка в Kubernetes (CD — развёртывание)
Теперь коробка с пиццей едет в пиццерию (Kubernetes).

- CD говорит Kubernetes: "Возьми новую коробку `my-pizza-app:version1` и поставь её на полку".
- Kubernetes запускает контейнер (как открывает коробку и начинает подавать пиццу клиентам).
- Если старая версия была (например, `version0`), Kubernetes может заменить её на новую без остановки работы.

---

## Пример из жизни

Допустим, у тебя есть сайт с магазином игрушек:
1. Ты добавил новую кнопку "Купить" (написал код).
2. CI (например, GitHub Actions) проверяет: кнопка работает, сайт не ломается.
3. CI упаковывает код в контейнер: `toy-shop:version2`.
4. CD отправляет этот контейнер в Kubernetes.
5. Kubernetes заменяет старую версию сайта на новую, и покупатели видят кнопку "Купить" без задержек.

Всё это может занять пару минут, и тебе не пришлось ничего делать руками!

---

## Инструменты для CI/CD в Kubernetes

Есть много помощников, которые делают CI/CD проще:
- **GitHub Actions**: запускает проверки и отправляет код в Kubernetes.
- **Jenkins**: как старший шеф-повар, который управляет всем процессом.
- **GitLab CI/CD**: похож на GitHub Actions, но с другими вкусами.
- **ArgoCD**:专门 для Kubernetes, следит, чтобы всё обновлялось автоматически.

---

## Почему это круто?

1. **Быстро**: обновил код — через 5 минут он уже работает.
2. **Безопасно**: если что-то сломалось, тесты в CI это заметят, и плохой код не попадёт к пользователям.
3. **Легко**: не нужно вручную копировать файлы на сервер.
4. **Масштабируемо**: Kubernetes сам решает, сколько контейнеров запустить, если пользователей много.

---

## Простая аналогия

CI/CD в Kubernetes — это как конвейер в пиццерии:
- Ты придумал пиццу (код).
- Конвейер проверил, испёк и упаковал её (CI).
- Доставка привезла её в пиццерию, где её сразу подают (CD в Kubernetes).

В итоге клиенты счастливы, а ты не бегаешь с тестом в руках.

---

## Итог

CI/CD в Kubernetes — это автоматическая система, которая:
- Проверяет твой код (CI).
- Упаковывает его в контейнеры.
- Отправляет в Kubernetes, чтобы пользователи сразу увидели изменения (CD).
