# Масштабирование и отказоустойчивость в Kubernetes

Когда у тебя есть приложение в Kubernetes, ты хочешь, чтобы оно работало без сбоев и справлялось с любой нагрузкой. Например, если на твой сайт вдруг заходит миллион человек, он не должен "упасть". Для этого в Kubernetes есть инструменты, которые автоматически делают систему сильнее или чинят её, если что-то идёт не так.

## Horizontal Pod Autoscaler (HPA)

### Что это такое?
HPA — это "умный регулятор", который следит за нагрузкой на твои приложения и добавляет или убирает контейнеры (Pods), если нужно.

### Как работает?
HPA смотрит на метрики, например:

- Сколько процентов процессора (CPU) используется.
- Сколько памяти (RAM) занято.
- Или даже свои метрики (например, количество запросов в секунду).

Если нагрузка растёт (например, CPU больше 80%), HPA добавляет Pods. Если нагрузка падает, он убирает лишние.

## Vertical Pod Autoscaler (VPA)

### Что это такое?
VPA — это "умный настройщик", который меняет ресурсы внутри одного контейнера (Pod).

### Как работает?
- Если контейнеру мало памяти или процессора, VPA увеличивает их.
- Если ресурсов слишком много, он уменьшает их.
- После изменения настроек контейнер перезапускается.

## Cluster Autoscaler

### Что это такое?
Cluster Autoscaler — это "директор завода", который решает, сколько узлов (серверов) нужно в кластере.

### Как это всё связано?
Представь свой сайт как пиццерию:

- **HPA**: добавляет больше поваров (Pods).
- **VPA**: даёт одному повару больше духовок и теста (CPU и RAM).
- **Cluster Autoscaler**: открывает новый филиал пиццерии (узел), если в старом уже нет места для поваров.

## Итог
- **HPA**: добавляет или убирает контейнеры по нагрузке.
- **VPA**: меняет ресурсы внутри контейнеров.
- **Cluster Autoscaler**: управляет количеством серверов.
